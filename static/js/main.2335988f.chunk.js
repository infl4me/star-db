(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(53)},24:function(e,t,a){},25:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),s=a.n(c),i=a(3),l=a(5),o=a(7),u=a(6),m=a(8),p=(a(24),function(){return r.a.createElement("header",{className:"header box"},r.a.createElement("h1",{className:"header__title"},"StarDB"),r.a.createElement("ul",{className:"header__list"},r.a.createElement("li",{className:"header__list-item"},r.a.createElement("a",{className:"header__link",href:"http://"},"People")),r.a.createElement("li",{className:"header__list-item"},r.a.createElement("a",{className:"header__link",href:"http://"},"Planets")),r.a.createElement("li",{className:"header__list-item"},r.a.createElement("a",{className:"header__link",href:"http://"},"Starships"))))}),d=(a(25),a(1)),h=a.n(d),f=a(4),_=a(17),g=a.n(_),v=function e(){var t=this;Object(i.a)(this,e),this._apiBase="https://swapi.co/api/",this._imgBase="https://starwars-visualguide.com/assets/img/",this.getResource=function(){var e=Object(f.a)(h.a.mark(function e(a){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(t._apiBase).concat(a));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getPlanet=function(){var e=Object(f.a)(h.a.mark(function e(a){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("planets/".concat(a,"/"));case 2:return n=e.sent,e.abrupt("return",t._parsePlanet(n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getPerson=function(){var e=Object(f.a)(h.a.mark(function e(a){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("people/".concat(a,"/"));case 2:return n=e.sent,e.abrupt("return",t._parsePerson(n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getStarship=function(){var e=Object(f.a)(h.a.mark(function e(a){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("starships/".concat(a,"/"));case 2:return n=e.sent,e.abrupt("return",t._parseStarship(n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllPeople=Object(f.a)(h.a.mark(function e(){var a,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("people");case 2:return a=e.sent,n=a.results,e.abrupt("return",n.map(t._parsePerson));case 5:case"end":return e.stop()}},e)})),this.getAllStarships=Object(f.a)(h.a.mark(function e(){var a,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("starships");case 2:return a=e.sent,n=a.results,e.abrupt("return",n.map(t._parseStarship));case 5:case"end":return e.stop()}},e)})),this.getAllPlanets=Object(f.a)(h.a.mark(function e(){var a,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("planets");case 2:return a=e.sent,n=a.results,e.abrupt("return",n.map(t._parsePlanet));case 5:case"end":return e.stop()}},e)})),this.getPersonImg=function(e){return"".concat(t._imgBase,"characters/").concat(e,".jpg")},this.getStarshipImg=function(e){return"".concat(t._imgBase,"starships/").concat(e,".jpg")},this.getPlanetImg=function(e){return"".concat(t._imgBase,"planets/").concat(e,".jpg")},this._extractId=function(e){return e.url.match(/\/([0-9]*)\/$/)[1]},this._parsePlanet=function(e){return{id:t._extractId(e),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter}},this._parseStarship=function(e){return{id:t._extractId(e),name:e.name,model:e.model,manufacturer:e.manufacturer,costInCredits:e.cost_in_credits,length:e.length,crew:e.crew,passengers:e.passengers,cargoCapacity:e.cargo_capacity}},this._parsePerson=function(e){return{id:t._extractId(e),name:e.name,gender:e.gender,birthYear:e.birth_year,eyeColor:e.eye_color}}},E=(a(47),function(){return r.a.createElement("div",{className:"lds-css spinner ng-scope"},r.a.createElement("div",{className:"lds-rolling"},r.a.createElement("div",null),r.a.createElement("div",null)))}),b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).swapiService=new v,a.state={loading:!0,planet:null,imageUrl:null},a.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updatePlanet()}},{key:"updatePlanet",value:function(){var e=this,t=this.getRandomInt(2,19),a=this.swapiService,n=a.getPlanet,r=a.getPlanetImg;n(t).then(function(a){var n=r(t);e.setState({planet:a,imageUrl:n,loading:!1})})}},{key:"renderPlanet",value:function(){var e=this.state,t=e.imageUrl,a=e.planet,n=a.name,c=a.population,s=a.rotationPeriod,i=a.diameter;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:t,alt:"planet",className:"random-planet__img"}),r.a.createElement("div",{className:"random-planet__descr"},r.a.createElement("h2",{className:"random-planet__title"},n),r.a.createElement("ul",{className:"random-planet__list"},r.a.createElement("li",{className:"random-planet__list-item"},"Population ".concat(c)),r.a.createElement("li",{className:"random-planet__list-item"},"Rotation period ".concat(s)),r.a.createElement("li",{className:"random-planet__list-item"},"Diameter ".concat(i)))))}},{key:"render",value:function(){var e=this.state.loading;return r.a.createElement("div",{className:"random-planet box"},e&&r.a.createElement(E,null),e||this.renderPlanet())}}]),t}(r.a.Component),w=(a(48),function(e){var t=e.left,a=e.right;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"row__left"},t),r.a.createElement("div",{className:"row__right"},a))}),N=function(e,t){return function(a){function n(){var e,t;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).state={loading:!0,error:!1,data:null},t}return Object(m.a)(n,a),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentDidUpdate",value:function(e){e.selectedId!==this.props.selectedId&&this.updateData()}},{key:"updateData",value:function(){var e=this;this.setState({loading:!0});var a=this.props.selectedId;t(a).then(function(t){e.setState({data:t,loading:!1})})}},{key:"render",value:function(){var t=this.state,a=t.loading,n=t.error,c=t.data;return a?r.a.createElement(E,null):n?r.a.createElement("div",null,"error"):r.a.createElement(e,Object.assign({},this.props,{data:c}))}}]),n}(r.a.Component)},y=(a(49),N(function(e){var t=e.data,a=e.onSelected,n=t.map(function(e){var t=e.name,n=e.id;return r.a.createElement("li",{key:n,className:"item-list__item"},r.a.createElement("button",{type:"button",onClick:function(){return a(n)},className:"item-list__btn btn"},t))});return r.a.createElement("ul",{className:"item-list box"},n)},(new v).getAllPeople)),j=(a(50),new v),P=j.getPerson,k=j.getPersonImg,O=N(function(e){var t=e.data,a=t.name,n=t.gender,c=t.birthYear,s=t.eyeColor,i=t.id;return r.a.createElement("div",{className:"item-details"},r.a.createElement("img",{className:"item-details__img",src:k(i),alt:"person"}),r.a.createElement("div",{className:"item-details__block"},r.a.createElement("h2",{className:"item-details__title"},a),r.a.createElement("ul",{className:"item-details__list"},r.a.createElement("li",{className:"item-details__list-item"},"Gender ".concat(n)),r.a.createElement("li",{className:"item-details__list-item"},"Birth year ".concat(c)),r.a.createElement("li",{className:"item-details__list-item"},"Eye color ".concat(s)))))},P),x=(a(51),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={selectedId:null},a.onSelected=function(e){a.setState({selectedId:e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.selectedId;return r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(b,null),r.a.createElement(w,{left:r.a.createElement(y,{onSelected:this.onSelected}),right:e&&r.a.createElement(O,{selectedId:e})}))}}]),t}(r.a.Component));a(52);s.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.2335988f.chunk.js.map